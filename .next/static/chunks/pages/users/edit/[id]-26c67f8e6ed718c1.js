(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[352],{1137:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/edit/[id]",function(){return a(6283)}])},7428:function(e,s,a){"use strict";a.d(s,{A:function(){return o},U:function(){return u}});var r=a(5893),i=a(1163),n=a(1664),l=a.n(n),t=a(7536),c=a(7533),d=a(6310),m=a(6677);function o(e){var s,a,n,o;let u=null==e?void 0:e.user,N=(0,i.useRouter)(),b=d.Ry().shape({firstName:d.Z_().required("First Name is required"),lastName:d.Z_().required("Last Name is required"),username:d.Z_().required("Username is required"),password:d.Z_().transform(e=>""===e?void 0:e).concat(u?null:d.Z_().required("Password is required")).min(6,"Password must be at least 6 characters")}),f={resolver:(0,c.X)(b)};u&&(f.defaultValues=e.user);let{register:h,handleSubmit:v,reset:x,formState:j}=(0,t.cI)(f),{errors:p}=j;async function w(e){m.A.clear();try{let s;u?(await m.W.update(u.id,e),s="User updated"):(await m.W.register(e),s="User added"),N.push("/users"),m.A.success(s,!0)}catch(e){m.A.error(e),console.error(e)}}return(0,r.jsxs)("form",{onSubmit:v(w),children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"mb-3 col",children:[(0,r.jsx)("label",{className:"form-label",children:"First Name"}),(0,r.jsx)("input",{name:"firstName",type:"text",...h("firstName"),className:"form-control ".concat(p.firstName?"is-invalid":"")}),(0,r.jsx)("div",{className:"invalid-feedback",children:null===(s=p.firstName)||void 0===s?void 0:s.message})]}),(0,r.jsxs)("div",{className:"mb-3 col",children:[(0,r.jsx)("label",{className:"form-label",children:"Last Name"}),(0,r.jsx)("input",{name:"lastName",type:"text",...h("lastName"),className:"form-control ".concat(p.lastName?"is-invalid":"")}),(0,r.jsx)("div",{className:"invalid-feedback",children:null===(a=p.lastName)||void 0===a?void 0:a.message})]})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"mb-3 col",children:[(0,r.jsx)("label",{className:"form-label",children:"Username"}),(0,r.jsx)("input",{name:"username",type:"text",...h("username"),className:"form-control ".concat(p.username?"is-invalid":"")}),(0,r.jsx)("div",{className:"invalid-feedback",children:null===(n=p.email)||void 0===n?void 0:n.message})]}),(0,r.jsxs)("div",{className:"mb-3 col",children:[(0,r.jsxs)("label",{className:"form-label",children:["Password",u&&(0,r.jsx)("em",{className:"ms-1",children:"(Leave blank to keep the same password)"})]}),(0,r.jsx)("input",{name:"password",type:"password",...h("password"),className:"form-control ".concat(p.password?"is-invalid":"")}),(0,r.jsx)("div",{className:"invalid-feedback",children:null===(o=p.password)||void 0===o?void 0:o.message})]})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsxs)("button",{type:"submit",disabled:j.isSubmitting,className:"btn btn-primary me-2",children:[j.isSubmitting&&(0,r.jsx)("span",{className:"spinner-border spinner-border-sm me-1"}),"Save"]}),(0,r.jsx)("button",{onClick:()=>x(f.defaultValues),type:"button",disabled:j.isSubmitting,className:"btn btn-secondary",children:"Reset"}),(0,r.jsx)(l(),{href:"/users",className:"btn btn-link",children:"Cancel"})]})]})}function u(e){let{children:s}=e;return(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)("div",{className:"container",children:s})})}},6283:function(e,s,a){"use strict";a.r(s);var r=a(5893),i=a(7294),n=a(1163),l=a(7428),t=a(8493),c=a(6677);s.default=function(){let e=(0,n.useRouter)(),[s,a]=(0,i.useState)(null);return(0,i.useEffect)(()=>{let{id:s}=e.query;s&&c.W.getById(s).then(e=>a(e)).catch(c.A.error)},[e]),(0,r.jsxs)(l.U,{children:[(0,r.jsx)("h1",{children:"Edit User"}),s?(0,r.jsx)(l.A,{user:s}):(0,r.jsx)(t.$j,{})]})}}},function(e){e.O(0,[216,774,888,179],function(){return e(e.s=1137)}),_N_E=e.O()}]);