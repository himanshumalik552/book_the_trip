(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{1752:function(e,t,r){e.exports=r(7905)},1118:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(6004)}])},8493:function(e,t,r){"use strict";r.d(t,{bZ:function(){return u},JL:function(){return a},OL:function(){return d},$j:function(){return h}});var n=r(5893),o=r(7294),i=r(1163),s=r(6677);function u(){let e=(0,i.useRouter)(),[t,r]=(0,o.useState)(null);return((0,o.useEffect)(()=>{let e=s.A.alert.subscribe(e=>r(e));return()=>e.unsubscribe()},[]),(0,o.useEffect)(()=>{s.A.clear()},[e]),t)?(0,n.jsx)("div",{className:"container",children:(0,n.jsx)("div",{className:"m-3",children:(0,n.jsxs)("div",{className:"alert alert-dismissible ".concat(t.type),children:[t.message,(0,n.jsx)("button",{type:"button",className:"btn-close",onClick:()=>s.A.clear()})]})})}):null}function a(){let[e,t]=(0,o.useState)(null);return((0,o.useEffect)(()=>{let e=s.W.user.subscribe(e=>t(e));return()=>e.unsubscribe()},[]),e)?(0,n.jsx)("nav",{className:"navbar navbar-expand navbar-dark bg-dark px-3",children:(0,n.jsxs)("div",{className:"navbar-nav",children:[(0,n.jsx)(d,{href:"/",exact:!0,className:"nav-item nav-link",children:"Home"}),(0,n.jsx)(d,{href:"/users",className:"nav-item nav-link",children:"Users"}),(0,n.jsx)("button",{onClick:s.W.logout,className:"btn btn-link nav-item nav-link",children:"Logout"})]})}):null}var c=r(1664),l=r.n(c),f=r(5697),p=r.n(f);function d(e){let{children:t,href:r,exact:o,...s}=e,{pathname:u}=(0,i.useRouter)(),a=o?u===r:u.startsWith(r);return a&&(s.className+=" active"),(0,n.jsx)(l(),{href:r,...s,children:t})}function h(){return(0,n.jsx)("div",{className:"text-center p-4",children:(0,n.jsx)("span",{className:"spinner-border spinner-border-lg align-center"})})}d.propTypes={href:p().string.isRequired,exact:p().bool},d.defaultProps={exact:!1}},1516:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDomainLocale=function(e,t,r,n){return!1},("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5569:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(2648).Z,o=r(7273).Z,i=n(r(7294)),s=r(4532),u=r(3353),a=r(1410),c=r(9064),l=r(370),f=r(9955),p=r(4224),d=r(508),h=r(1516),v=r(4266);let y=new Set;function b(e,t,r,n,o){if(o||u.isLocalURL(t)){if(!n.bypassPrefetchedCheck){let o=void 0!==n.locale?n.locale:"locale"in e?e.locale:void 0,i=t+"%"+r+"%"+o;if(y.has(i))return;y.add(i)}Promise.resolve(e.prefetch(t,r,n)).catch(e=>{})}}function m(e){return"string"==typeof e?e:a.formatUrl(e)}let g=i.default.forwardRef(function(e,t){let r,n;let{href:a,as:y,children:g,prefetch:_,passHref:x,replace:w,shallow:S,scroll:E,locale:O,onClick:j,onMouseEnter:C,onTouchStart:T,legacyBehavior:P=!1}=e,k=o(e,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter","onTouchStart","legacyBehavior"]);r=g,P&&("string"==typeof r||"number"==typeof r)&&(r=i.default.createElement("a",null,r));let N=!1!==_,A=i.default.useContext(f.RouterContext),I=i.default.useContext(p.AppRouterContext),R=null!=A?A:I,M=!A,{href:L,as:U}=i.default.useMemo(()=>{if(!A){let e=m(a);return{href:e,as:y?m(y):e}}let[e,t]=s.resolveHref(A,a,!0);return{href:e,as:y?s.resolveHref(A,y):t||e}},[A,a,y]),D=i.default.useRef(L),z=i.default.useRef(U);P&&(n=i.default.Children.only(r));let W=P?n&&"object"==typeof n&&n.ref:t,[H,V,J]=d.useIntersection({rootMargin:"200px"}),F=i.default.useCallback(e=>{(z.current!==U||D.current!==L)&&(J(),z.current=U,D.current=L),H(e),W&&("function"==typeof W?W(e):"object"==typeof W&&(W.current=e))},[U,W,L,J,H]);i.default.useEffect(()=>{R&&V&&N&&b(R,L,U,{locale:O},M)},[U,L,V,O,N,null==A?void 0:A.locale,R,M]);let q={ref:F,onClick(e){P||"function"!=typeof j||j(e),P&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(e),R&&!e.defaultPrevented&&function(e,t,r,n,o,s,a,c,l,f){let{nodeName:p}=e.currentTarget,d="A"===p.toUpperCase();if(d&&(function(e){let t=e.currentTarget,r=t.getAttribute("target");return r&&"_self"!==r||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!l&&!u.isLocalURL(r)))return;e.preventDefault();let h=()=>{"beforePopState"in t?t[o?"replace":"push"](r,n,{shallow:s,locale:c,scroll:a}):t[o?"replace":"push"](n||r,{forceOptimisticNavigation:!f})};l?i.default.startTransition(h):h()}(e,R,L,U,w,S,E,O,M,N)},onMouseEnter(e){P||"function"!=typeof C||C(e),P&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),R&&(N||!M)&&b(R,L,U,{locale:O,priority:!0,bypassPrefetchedCheck:!0},M)},onTouchStart(e){P||"function"!=typeof T||T(e),P&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),R&&(N||!M)&&b(R,L,U,{locale:O,priority:!0,bypassPrefetchedCheck:!0},M)}};if(c.isAbsoluteUrl(U))q.href=U;else if(!P||x||"a"===n.type&&!("href"in n.props)){let e=void 0!==O?O:null==A?void 0:A.locale,t=(null==A?void 0:A.isLocaleDomain)&&h.getDomainLocale(U,e,null==A?void 0:A.locales,null==A?void 0:A.domainLocales);q.href=t||v.addBasePath(l.addLocale(U,e,null==A?void 0:A.defaultLocale))}return P?i.default.cloneElement(n,q):i.default.createElement("a",Object.assign({},k,q),r)});t.default=g,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},508:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){let{rootRef:t,rootMargin:r,disabled:a}=e,c=a||!i,[l,f]=n.useState(!1),p=n.useRef(null),d=n.useCallback(e=>{p.current=e},[]);n.useEffect(()=>{if(i){if(c||l)return;let e=p.current;if(e&&e.tagName){let n=function(e,t,r){let{id:n,observer:o,elements:i}=function(e){let t;let r={root:e.root||null,margin:e.rootMargin||""},n=u.find(e=>e.root===r.root&&e.margin===r.margin);if(n&&(t=s.get(n)))return t;let o=new Map,i=new IntersectionObserver(e=>{e.forEach(e=>{let t=o.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)})},e);return t={id:r,observer:i,elements:o},u.push(r),s.set(r,t),t}(r);return i.set(e,t),o.observe(e),function(){if(i.delete(e),o.unobserve(e),0===i.size){o.disconnect(),s.delete(n);let e=u.findIndex(e=>e.root===n.root&&e.margin===n.margin);e>-1&&u.splice(e,1)}}}(e,e=>e&&f(e),{root:null==t?void 0:t.current,rootMargin:r});return n}}else if(!l){let e=o.requestIdleCallback(()=>f(!0));return()=>o.cancelIdleCallback(e)}},[c,r,t,l,p.current]);let h=n.useCallback(()=>{f(!1)},[]);return[d,l,h]};var n=r(7294),o=r(29);let i="function"==typeof IntersectionObserver,s=new Map,u=[];("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6004:function(e,t,r){"use strict";r.r(t);var n=r(5893),o=r(9008),i=r.n(o),s=r(7294),u=r(1163);r(3814);var a=r(6677),c=r(8493);t.default=function(e){let{Component:t,pageProps:r}=e,o=(0,u.useRouter)(),[l,f]=(0,s.useState)(null),[p,d]=(0,s.useState)(!1);function h(e){f(a.W.userValue);let t=e.split("?")[0];a.W.userValue||["/account/login","/account/register"].includes(t)?d(!0):(d(!1),o.push({pathname:"/account/login",query:{returnUrl:o.asPath}}))}return(0,s.useEffect)(()=>{h(o.asPath);let e=()=>d(!1);return o.events.on("routeChangeStart",e),o.events.on("routeChangeComplete",h),()=>{o.events.off("routeChangeStart",e),o.events.off("routeChangeComplete",h)}},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i(),{children:(0,n.jsx)("title",{children:"Next.js 13 - User Registration and Login Example"})}),(0,n.jsxs)("div",{className:"app-container ".concat(l?"bg-light":""),children:[(0,n.jsx)(c.JL,{}),(0,n.jsx)(c.bZ,{}),p&&(0,n.jsx)(t,{...r})]})]})}},6677:function(e,t,r){"use strict";r.d(t,{A:function(){return W},W:function(){return $}});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function i(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function u(e,t,r){if(r||2==arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}function a(e){return"function"==typeof e}function c(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}"function"==typeof SuppressedError&&SuppressedError;var l=c(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function f(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var p=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,r,n,o,c=this._parentage;if(c){if(this._parentage=null,Array.isArray(c))try{for(var f=i(c),p=f.next();!p.done;p=f.next())p.value.remove(this)}catch(t){e={error:t}}finally{try{p&&!p.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}else c.remove(this)}var d=this.initialTeardown;if(a(d))try{d()}catch(e){o=e instanceof l?e.errors:[e]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var y=i(h),b=y.next();!b.done;b=y.next()){var m=b.value;try{v(m)}catch(e){o=null!=o?o:[],e instanceof l?o=u(u([],s(o)),s(e.errors)):o.push(e)}}}catch(e){r={error:e}}finally{try{b&&!b.done&&(n=y.return)&&n.call(y)}finally{if(r)throw r.error}}}if(o)throw new l(o)}},t.prototype.add=function(e){var r;if(e&&e!==this){if(this.closed)v(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(e)}}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&f(t,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&f(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),d=p.EMPTY;function h(e){return e instanceof p||e&&"closed"in e&&a(e.remove)&&a(e.add)&&a(e.unsubscribe)}function v(e){a(e)?e():e.unsubscribe()}var y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},b={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=b.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,u([e,t],s(r))):setTimeout.apply(void 0,u([e,t],s(r)))},clearTimeout:function(e){var t=b.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function m(){}var g=_("C",void 0,void 0);function _(e,t,r){return{kind:e,value:t,error:r}}var x=null;function w(e){if(y.useDeprecatedSynchronousErrorHandling){var t=!x;if(t&&(x={errorThrown:!1,error:null}),e(),t){var r=x,n=r.errorThrown,o=r.error;if(x=null,n)throw o}}else e()}var S=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,h(t)&&t.add(r)):r.destination=k,r}return o(t,e),t.create=function(e,t,r){return new C(e,t,r)},t.prototype.next=function(e){this.isStopped?P(_("N",e,void 0),this):this._next(e)},t.prototype.error=function(e){this.isStopped?P(_("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?P(g,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(p),E=Function.prototype.bind;function O(e,t){return E.call(e,t)}var j=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){T(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){T(e)}else T(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){T(e)}},e}(),C=function(e){function t(t,r,n){var o,i,s=e.call(this)||this;return a(t)||!t?o={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:s&&y.useDeprecatedNextContext?((i=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},o={next:t.next&&O(t.next,i),error:t.error&&O(t.error,i),complete:t.complete&&O(t.complete,i)}):o=t,s.destination=new j(o),s}return o(t,e),t}(S);function T(e){y.useDeprecatedSynchronousErrorHandling?y.useDeprecatedSynchronousErrorHandling&&x&&(x.errorThrown=!0,x.error=e):b.setTimeout(function(){var t=y.onUnhandledError;if(t)t(e);else throw e})}function P(e,t){var r=y.onStoppedNotification;r&&b.setTimeout(function(){return r(e,t)})}var k={closed:!0,next:m,error:function(e){throw e},complete:m},N="function"==typeof Symbol&&Symbol.observable||"@@observable";function A(e){return e}var I=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,o=this,i=(n=e)&&n instanceof S||n&&a(n.next)&&a(n.error)&&a(n.complete)&&h(n)?e:new C(e,t,r);return w(function(){var e=o.operator,t=o.source;i.add(e?e.call(i,t):t?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=R(t))(function(t,n){var o=new C({next:function(t){try{e(t)}catch(e){n(e),o.unsubscribe()}},error:n,complete:t});r.subscribe(o)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[N]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===e.length?A:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=R(e))(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function R(e){var t;return null!==(t=null!=e?e:y.Promise)&&void 0!==t?t:Promise}var M=c(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),L=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return o(t,e),t.prototype.lift=function(e){var t=new U(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new M},t.prototype.next=function(e){var t=this;w(function(){var r,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=i(t.currentObservers),s=o.next();!s.done;s=o.next())s.value.next(e)}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}})},t.prototype.error=function(e){var t=this;w(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}})},t.prototype.complete=function(){var e=this;w(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this.hasError,n=this.isStopped,o=this.observers;return r||n?d:(this.currentObservers=null,o.push(e),new p(function(){t.currentObservers=null,f(o,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,r=this.thrownError,n=this.isStopped;t?e.error(r):n&&e.complete()},t.prototype.asObservable=function(){var e=new I;return e.source=this,e},t.create=function(e,t){return new U(e,t)},t}(I),U=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return o(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:d},t}(L),D=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return o(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r.closed||t.next(this._value),r},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,r=this._value;if(e)throw t;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(L);let z=new D(null),W={alert:z.asObservable(),success:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];z.next({type:"alert-success",message:e,showAfterRedirect:t})},error:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];z.next({type:"alert-danger",message:e,showAfterRedirect:t})},clear:function(){let e=z.value;(null==e?void 0:e.showAfterRedirect)?e.showAfterRedirect=!1:e=null,z.next(e)}};var H=r(1752),V=r.n(H),J=r(1163),F=r.n(J);let{publicRuntimeConfig:q}=V()(),B={get:K("GET"),post:K("POST"),put:K("PUT"),delete:K("DELETE")};function K(e){return(t,r)=>{let n={method:e,headers:function(e){let t=$.userValue,r=null==t?void 0:t.token,n=e.startsWith(q.apiUrl);return r&&n?{Authorization:"Bearer ".concat(t.token)}:{}}(t)};return r&&(n.headers["Content-Type"]="application/json",n.body=JSON.stringify(r)),fetch(t,n).then(Z)}}async function Z(e){var t,r;let n=null===(t=null===(r=e.headers)||void 0===r?void 0:r.get("content-type"))||void 0===t?void 0:t.includes("application/json"),o=n?await e.json():null;if(!e.ok){[401,403].includes(e.status)&&$.userValue&&$.logout();let t=o&&o.message||e.statusText;return Promise.reject(t)}return o}let{publicRuntimeConfig:Y}=V()(),X="".concat(Y.apiUrl,"/users"),G=new D(JSON.parse(localStorage.getItem("user"))),$={user:G.asObservable(),get userValue(){return G.value},login:Q,logout:ee,register:et,getAll:er,getById:en,update:eo,delete:ei};async function Q(e,t){let r=await B.post("".concat(X,"/authenticate"),{username:e,password:t});G.next(r),localStorage.setItem("user",JSON.stringify(r))}function ee(){W.clear(),localStorage.removeItem("user"),G.next(null),F().push("/account/login")}async function et(e){await B.post("".concat(X,"/register"),e)}async function er(){return await B.get(X)}async function en(e){return await B.get("".concat(X,"/").concat(e))}async function eo(e,t){if(await B.put("".concat(X,"/").concat(e),t),e===G.value.id){let e={...G.value,...t};localStorage.setItem("user",JSON.stringify(e)),G.next(e)}}async function ei(e){await B.delete("".concat(X,"/").concat(e)),e===G.value.id&&ee()}},3814:function(){},9008:function(e,t,r){e.exports=r(2636)},1664:function(e,t,r){e.exports=r(5569)},1163:function(e,t,r){e.exports=r(6885)},2703:function(e,t,r){"use strict";var n=r(414);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,s){if(s!==n){var u=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},5697:function(e,t,r){e.exports=r(2703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],function(){return t(1118),t(6885)}),_N_E=e.O()}]);